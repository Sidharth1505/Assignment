DROP SCHEMA IF EXISTS `kirana`;

CREATE SCHEMA `kirana`;

use `kirana`;

SET FOREIGN_KEY_CHECKS = 0;

CREATE TABLE transaction (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    amount DOUBLE NOT NULL,
    currency VARCHAR(3) NOT NULL,
    date datetime NOT NULL,
    type VARCHAR(10) NOT NULL
);

CREATE TABLE debit_transaction (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    description VARCHAR(255),
    amount DOUBLE NOT NULL,
    transaction_id BIGINT,
    FOREIGN KEY (transaction_id) REFERENCES transaction(id)
);

CREATE TABLE credit_transaction (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    description VARCHAR(255),
    amount DOUBLE NOT NULL,
    transaction_id BIGINT,
    FOREIGN KEY (transaction_id) REFERENCES transaction(id)
);
